(this["webpackJsonpexchange-rates_2"]=this["webpackJsonpexchange-rates_2"]||[]).push([[0],{14:function(e,r,n){e.exports={exchangerHeader:"AppBar_exchangerHeader__Rrmsu",exchangerNav:"AppBar_exchangerNav__XQPh_",AppBarLink:"AppBar_AppBarLink__gHa4M",AppBarLink__active:"AppBar_AppBarLink__active__2cu1a"}},15:function(e,r,n){e.exports={exchanger:"Exchanger_exchanger__cGNW_",exchangerTitle:"Exchanger_exchangerTitle__3vyfj",currencyForm:"Exchanger_currencyForm__2zsdw",currencyInput:"Exchanger_currencyInput__18eco"}},30:function(e,r,n){e.exports={select:"CurrencySelector_select__3e1G2","select--multiple":"CurrencySelector_select--multiple__snnSV",focus:"CurrencySelector_focus__2JyFw"}},52:function(e,r,n){},71:function(e,r,n){},74:function(e,r,n){},75:function(e,r,n){"use strict";n.r(r);var c=n(1),t=n(0),a=n(21),u=n.n(a),s=n(4),o=n(17),i=(n(52),n(12)),l=n(11),h=n.n(l),b=n(13),p=n(27),j=n.n(p),y="a88457b0c2762578a02fbe22",f=function(){var e=Object(b.a)(h.a.mark((function e(r){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get(" https://v6.exchangerate-api.com/v6/".concat(y,"/latest/").concat(r));case 3:return n=e.sent,c=n.data,e.abrupt("return",c.conversion_rates);case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(h.a.mark((function e(r,n,c){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r&&n&&c&&!(+c<=0)){e.next=3;break}return e.abrupt("return",0);case 3:return e.next=5,j.a.get("https://v6.exchangerate-api.com/v6/".concat(y,"/pair/").concat(r,"/").concat(n,"/").concat(c," "));case 5:return t=e.sent,a=t.data,e.abrupt("return",a.conversion_result);case 10:throw e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r,n,c){return e.apply(this,arguments)}}(),d={fetchLatestCurrenciesStart:Object(i.b)("phonebook/fetchLatestCurrenciesStart"),fetchLatestCurrenciesSuccess:Object(i.b)("phonebook/fetchLatestCurreniesSuccess"),fetchLatestCurrenciesError:Object(i.b)("phonebook/fetchLatestCurreniesSuccess"),setBaseCurrency:Object(i.b)("phonebook/setBaseCurrency")},O=function(){return function(){var e=Object(b.a)(h.a.mark((function e(r,n){var c,t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(d.fetchLatestCurrenciesStart()),c=n(),t=c.forex.baseCurrency,e.prev=2,e.next=5,f(t);case 5:a=e.sent,r(d.fetchLatestCurrenciesSuccess(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r(d.fetchLatestCurrenciesError(e.t0));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(r,n){return e.apply(this,arguments)}}()},C=function(e){return e.forex.exchangeRates},v=function(e){return e.forex.baseCurrency},g=n(18),m=n(7),_=Object(i.c)({},Object(g.a)({},d.fetchLatestCurrenciesSuccess,(function(e,r){return r.payload}))),k=Object(i.c)("EUR",Object(g.a)({},d.setBaseCurrency,(function(e,r){return r.payload}))),N=Object(i.c)(null,Object(g.a)({},d.fetchCurrenciesError,(function(e,r){return r.payload}))),S=Object(m.c)({exchangeRates:_,baseCurrency:k,error:N}),B=Object(i.a)({reducer:{forex:S},devTools:!1}),L=n(3),w=(n(71),function(e){var r=e.children;return Object(c.jsx)("div",{className:"Container",children:r})}),V=n(14),E=n.n(V),A=function(e){var r=e.children;return Object(c.jsxs)("header",{className:E.a.exchangerHeader,children:[Object(c.jsxs)("nav",{className:E.a.exchangerNav,children:[Object(c.jsx)(o.b,{className:E.a.AppBarLink,activeClassName:E.a.AppBarLink__active,to:"/",exact:!0,children:"Main"}),Object(c.jsx)(o.b,{className:E.a.AppBarLink,activeClassName:E.a.AppBarLink__active,to:"/exchange",children:"Convert"})]}),r]})},R=n(30),F=n.n(R),I=function(e){var r=e.startCurrency,n=e.exchangeRates,t=e.handleCurrencyChange,a=e.handleBaseCurrencyChange,u=e.name,s=Object.keys(n).sort(),o=a||t;return Object(c.jsx)("div",{className:F.a.select,children:Object(c.jsx)("select",{className:F.a.CurreSelector,value:r,name:u,onChange:function(e){return o(e.target)},children:s.map((function(e){return Object(c.jsx)("option",{children:e},e)}))})})},T=function(e){var r=e.startCurrencyProp,n=e.handleBaseCurrencyChange,t=e.handleCurrencyChange,a=e.name,u=Object(s.c)(C),o=Object(s.c)(v);return Object(c.jsx)(I,{startCurrency:r||o,exchangeRates:u,handleBaseCurrencyChange:n,handleCurrencyChange:t,name:a})},H=function(){var e=Object(s.b)(),r=Object(s.c)(v);return Object(c.jsx)(A,{children:Object(c.jsx)(T,{startCurrency:r,handleBaseCurrencyChange:function(r){var n=r.value;e({type:d.setBaseCurrency.toString(),payload:n})}})})},P=n(31),J=n.n(P),D=(n(74),function(e){var r=e.exchangeRates,n=Object.keys(r).sort();return Object(c.jsxs)("table",{className:"exchangeTable",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Converted currency "}),Object(c.jsx)("th",{children:"Exchange rate"})]})}),Object(c.jsx)("tbody",{children:n.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsxs)("div",{className:"currencyName",children:[J()(e)&&Object(c.jsx)("span",{className:"currencySymbol",children:J()(e)}),e]})}),Object(c.jsx)("td",{children:r[e]})]},e)}))})]})}),G=function(){var e=Object(s.c)((function(e){return C(e)}));return Object(c.jsx)(D,{exchangeRates:e})},M=function(){return Object(c.jsx)(G,{})},U=n(33),z=n(20),Q=n(32),W=n.n(Q);var X=function(e,r){var n=function(){var e=Object(t.useRef)(!0);return Object(t.useEffect)((function(){return function(){e.current=!1}}),[]),function(){return e.current}}(),c=Object(t.useRef)(e);return Object(t.useEffect)((function(){c.current={cb:e,delay:r}})),Object(t.useCallback)(W()((function(){var e;c.current.delay===r&&n()&&(e=c.current).cb.apply(e,arguments)}),r,{leading:!1,trailing:!0}),[r,W.a])},q=n(15),K=n.n(q),Y=function(e){var r=e.baseCurrencyState,n=e.cptyCurrencyState,t=e.handleCurrencyValueChange,a=e.handleCurrencyChange,u=function(e){return e.preventDefault()};return Object(c.jsxs)("section",{className:K.a.exchanger,children:[Object(c.jsx)("h3",{className:K.a.exchangerTitle,children:"Convert your currency"}),Object(c.jsxs)("form",{className:K.a.currencyForm,onSubmit:u,children:[Object(c.jsx)("input",{name:"base",type:"number",className:K.a.currencyInput,value:r.value,onChange:t,autocomplete:"off"}),Object(c.jsx)(T,{handleCurrencyChange:a,startCurrencyProp:r.currency,name:"base"})]}),Object(c.jsxs)("form",{className:K.a.currencyForm,onSubmit:u,children:[Object(c.jsx)("input",{type:"number",name:"cpty",className:K.a.currencyInput,value:n.value,onChange:t,autocomplete:"off"}),Object(c.jsx)(T,{handleCurrencyChange:a,startCurrencyProp:n.currency,name:"cpty"})]})]})},Z=function(e){return{currency:e,value:""}},$={currency:"USD",value:""},ee=function(e,r){var n=r.type,c=r.payload;switch(n){case"changeValue":return Object(z.a)(Object(z.a)({},e),{},{value:c});case"changeCurrency":return Object(z.a)(Object(z.a)({},e),{},{currency:c});default:return e}},re=function(){var e=Object(s.c)(v),r=Object(t.useReducer)(ee,e,Z),n=Object(U.a)(r,2),a=n[0],u=n[1],o=Object(t.useReducer)(ee,$),i=Object(U.a)(o,2),l=i[0],p=i[1],j=X(function(){var e=Object(b.a)(h.a.mark((function e(r){var n,c,t,s,o,i,b,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.baseCurrencyValue,c=r.cptyCurrencyValue,t=r.baseCurrency,s=r.cptyCurrency,e.prev=1,!n){e.next=7;break}return e.next=5,x(a.currency,l.currency,n);case 5:return o=e.sent,e.abrupt("return",p({type:"changeValue",payload:o}));case 7:if(!c){e.next=12;break}return e.next=10,x(l.currency,a.currency,c);case 10:return i=e.sent,e.abrupt("return",u({type:"changeValue",payload:i}));case 12:if(!t){e.next=17;break}return e.next=15,x(t,l.currency,a.value);case 15:return b=e.sent,e.abrupt("return",p({type:"changeValue",payload:b}));case 17:if(!s){e.next=22;break}return e.next=20,x(s,a.currency,l.value);case 20:return j=e.sent,e.abrupt("return",u({type:"changeValue",payload:j}));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(1),p($),u(Z(t));case 28:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(r){return e.apply(this,arguments)}}(),500);return Object(c.jsx)(Y,{baseCurrencyState:a,cptyCurrencyState:l,handleCurrencyValueChange:function(e){var r=e.target,n=r.value,c=r.name;if(!isNaN(+n))return"base"===c?(u({type:"changeValue",payload:n}),j({baseCurrencyValue:n})):(p({type:"changeValue",payload:n}),j({cptyCurrencyValue:n}))},handleCurrencyChange:function(e){var r=e.value;return"base"===e.name?(u({type:"changeCurrency",payload:r}),j({baseCurrency:r})):(p({type:"changeCurrency",payload:r}),j({cptyCurrency:r}))}})},ne=function(){var e=Object(s.b)(),r=Object(s.c)(v);return Object(t.useEffect)((function(){e(O())}),[e,r]),Object(c.jsxs)(w,{children:[Object(c.jsx)(H,{}),Object(c.jsxs)(L.d,{children:[Object(c.jsx)(L.b,{exact:!0,path:"/",component:M}),Object(c.jsx)(L.b,{exact:!0,path:"/exchange",component:re}),Object(c.jsx)(L.a,{to:"/"})]})]})};u.a.render(Object(c.jsx)(s.a,{store:B,children:Object(c.jsx)(o.a,{children:Object(c.jsx)(ne,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.31a1f42c.chunk.js.map